{"version":3,"file":"component---src-pages-events-module-development-md-6c464c6159d9d68e3043.js","mappings":"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","sources":["webpack://commerce-extensibility/./src/pages/events/module-development.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-extensibility/commerce-extensibility/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"commerce-module-development\"\n    }}>{`Commerce module development`}</h1>\n    <p>{`This topic describes how to enable your custom modules for Adobe I/O Events. You can also manually register observer events using the `}<a parentName=\"p\" {...{\n        \"href\": \"./commands.md#subscribe-to-an-event\"\n      }}><inlineCode parentName=\"a\">{`events:subscribe`}</inlineCode>{` command`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"find-supported-events\"\n    }}>{`Find supported events`}</h2>\n    <p>{`Adobe Commerce is capable of emitting thousands of different observer and plugin events, but most of them aren't good candidates for integrating with an external App Builder application. For example, Commerce emits events before and after a customer address is loaded, saved, or deleted, but the only events of consequence are those that indicate a change of status after the address is saved or deleted.`}</p>\n    <p>{`You can use the Commerce Admin or the command line to find supported events and their payloads:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`In the Admin, select `}<strong parentName=\"p\">{`System`}</strong>{` > Events > `}<strong parentName=\"p\">{`Events`}</strong>{` to display the `}<em parentName=\"p\">{`Event list`}</em>{` page.`}</p>\n        <p parentName=\"li\"><span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1280px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"41.25%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"display\": \"block\",\n                \"transition\": \"opacity 0.5s 0.5s\",\n                \"pointerEvents\": \"none\"\n              }\n            }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/5530d/event-list.webp 320w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/0c8fb/event-list.webp 640w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/94b1e/event-list.webp 1280w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/0b34d/event-list.webp 1920w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/d5269/event-list.webp 2560w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/d7afe/event-list.webp 3148w\"],\n                \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n                \"type\": \"image/webp\"\n              }}></source>{`\n          `}<source parentName=\"picture\" {...{\n                \"srcSet\": [\"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/dd4a7/event-list.png 320w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/0f09e/event-list.png 640w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/bbbf7/event-list.png 1280w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/ac7a9/event-list.png 1920w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/c7a69/event-list.png 2560w\", \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/245f3/event-list.png 3148w\"],\n                \"sizes\": \"(max-width: 1280px) 100vw, 1280px\",\n                \"type\": \"image/png\"\n              }}></source>{`\n          `}<img parentName=\"picture\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"src\": \"/commerce-extensibility/static/2599d969b984b3b8726e6af8e230c83b/bbbf7/event-list.png\",\n                \"alt\": \"Event list page\",\n                \"title\": \"Event list page\",\n                \"loading\": \"lazy\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"opacity\": \"0\",\n                  \"transition\": \"opacity 0.5s\",\n                  \"color\": \"inherit\",\n                  \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                }\n              }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n        <p parentName=\"li\">{`The left navigation contains a list of enabled modules on your system. Click on a module name to display a list of supported events. When you select an event, the main panel of the Admin displays the event's payload.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<inlineCode parentName=\"p\">{`bin/magento events:list:all`}</inlineCode>{` command returns all the detectable supported events in the specified module. Once you know the name of the event, you can use the `}<inlineCode parentName=\"p\">{`events:info`}</inlineCode>{` command to return its payload.`}</p>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"register-events\"\n    }}>{`Register events`}</h2>\n    <p>{`You can programmatically register events using the following methods:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create an `}<inlineCode parentName=\"li\">{`io_events.xml`}</inlineCode>{` file in your module`}</li>\n      <li parentName=\"ul\">{`Declare them in the system `}<inlineCode parentName=\"li\">{`config.php`}</inlineCode>{` file`}</li>\n    </ul>\n    <p>{`For each event you register, you must define which fields to transmit to your App Builder application. The payload of an event can be massive. In addition, some events include sensitive or PCI compliance data by default. The payload of the `}<inlineCode parentName=\"p\">{`observer.catalog_product_save_after`}</inlineCode>{` event is similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n   \"event\":{\n      \"data\":{\n         \"value\":{\n            \"_edit_mode\":true,\n            \"store_id\":\"0\",\n            \"entity_id\":\"3\",\n            \"attribute_set_id\":\"4\",\n            \"type_id\":\"simple\",\n            \"sku\":\"test2\",\n            \"has_options\":false,\n            \"required_options\":false,\n            \"created_at\":\"2022-07-28 14:13:40\",\n            \"updated_at\":\"2022-09-06 20:37:25\",\n            \"row_id\":\"3\",\n            \"created_in\":\"1\",\n            \"updated_in\":\"2147483647\",\n            \"name\":\"test2\",\n            \"meta_title\":\"test2\",\n            \"meta_description\":\"test2 \",\n            \"page_layout\":\"product-full-width\",\n            \"options_container\":\"container2\",\n            \"url_key\":\"test2\",\n            \"msrp_display_actual_price_type\":\"0\",\n            \"gift_message_available\":\"2\",\n            \"gift_wrapping_available\":\"2\",\n            \"is_returnable\":\"2\",\n            \"status\":\"1\",\n            \"visibility\":\"4\",\n            \"tax_class_id\":\"2\",\n            \"price\":\"123.000000\",\n            \"meta_keyword\":\"test2\",\n            \"options\":[\n               \n            ],\n            \"media_gallery\":{\n               \"images\":[\n                  \n               ],\n               \"values\":[\n                  \n               ]\n            },\n            \"tier_price\":[\n               \n            ],\n            \"tier_price_changed\":0,\n            \"quantity_and_stock_status\":{\n               \"is_in_stock\":\"1\",\n               \"qty\":\"333\"\n            },\n            \"category_ids\":[\n               \"4\"\n            ],\n            \"is_salable\":1,\n            \"stock_data\":{\n               \"item_id\":\"3\",\n               \"product_id\":\"3\",\n               \"stock_id\":\"1\",\n               \"qty\":\"333\",\n               \"min_qty\":\"0\",\n               \"use_config_min_qty\":\"1\",\n               \"is_qty_decimal\":\"0\",\n               \"backorders\":\"0\",\n               \"use_config_backorders\":\"1\",\n               \"min_sale_qty\":\"1\",\n               \"use_config_min_sale_qty\":\"1\",\n               \"max_sale_qty\":\"10000\",\n               \"use_config_max_sale_qty\":\"1\",\n               \"is_in_stock\":\"1\",\n               \"notify_stock_qty\":\"1\",\n               \"use_config_notify_stock_qty\":\"1\",\n               \"manage_stock\":\"1\",\n               \"use_config_manage_stock\":\"1\",\n               \"stock_status_changed_auto\":\"0\",\n               \"use_config_qty_increments\":\"1\",\n               \"qty_increments\":\"1\",\n               \"use_config_enable_qty_inc\":\"1\",\n               \"enable_qty_increments\":\"0\",\n               \"is_decimal_divided\":0,\n               \"website_id\":\"0\",\n               \"deferred_stock_update\":\"0\",\n               \"use_config_deferred_stock_update\":\"1\",\n               \"type_id\":\"simple\",\n               \"min_qty_allowed_in_shopping_cart\":[\n\n               ]\n            },\n            \"use_config_gift_message_available\":\"1\",\n            \"use_config_gift_wrapping_available\":\"1\",\n            \"current_product_id\":\"3\",\n            \"affect_product_custom_options\":\"1\",\n            \"current_store_id\":\"0\",\n            \"product_has_weight\":\"1\",\n            \"is_new\":\"0\",\n            \"website_ids\":{\n               \"1\":\"1\"\n            },\n            \"url_key_create_redirect\":\"test2\",\n            \"ignore_links_flag\":false,\n            \"can_save_custom_options\":true,\n            \"save_rewrites_history\":true,\n            \"can_save_bundle_selections\":false,\n            \"is_custom_option_changed\":true,\n            \"parent_id\":0,\n            \"special_from_date_is_formated\":true,\n            \"custom_design_from_is_formated\":true,\n            \"news_from_date_is_formated\":true,\n            \"news_to_date_is_formated\":true,\n            \"is_changed_categories\":false,\n            \"is_changed_websites\":false,\n            \"force_reindex_eav_required\":true\n         },\n         \"_metadata\":{\n            \"commerceEdition\":\"Adobe Commerce\",\n            \"commerceVersion\":\"2.4.6-beta5\",\n            \"eventsClientVersion\":\"1.0.1\",\n            \"storeId\":\"0\",\n            \"websiteId\":\"1\",\n            \"storeGroupId\":\"0\"\n         },\n         \"source\":\"demo.demo\"\n      }\n   }\n}\n`}</code></pre>\n    <p>{`You define an array of fields to transmit in your configuration file. Specify any field within an event's `}<inlineCode parentName=\"p\">{`value`}</inlineCode>{` object to ensure it is transmitted to an application. If the field is part of a secondary object, such as `}<inlineCode parentName=\"p\">{`stock_data`}</inlineCode>{` in the above example, use the format `}<inlineCode parentName=\"p\">{`<object-name>.field`}</inlineCode>{`. For example: `}<inlineCode parentName=\"p\">{`stock_data.product_id`}</inlineCode>{`.`}</p>\n    <p>{`After you've registered at least one event, run the `}<a parentName=\"p\" {...{\n        \"href\": \"./commands.md#generate-a-commerce-module-based-on-a-list-of-subscribed-events\"\n      }}>{`events:generate:module command`}</a>{` to generate the required plugins.`}</p>\n    <h3 {...{\n      \"id\": \"io_eventsxml\"\n    }}>{`io_events.xml`}</h3>\n    <p>{`Create the `}<inlineCode parentName=\"p\">{`<module-root>/etc/io_events.xml`}</inlineCode>{` file and define a list of events that should always be transmitted. Events listed in this file cannot be disabled with the `}<a parentName=\"p\" {...{\n        \"href\": \"./commands.md#unsubscribe-from-a-commerce-event\"\n      }}><inlineCode parentName=\"a\">{`events:unsubscribe`}</inlineCode>{` command`}</a>{`.`}</p>\n    <p>{`You can transmit all the fields within an event by setting the value of the `}<inlineCode parentName=\"p\">{`field`}</inlineCode>{` element to `}<inlineCode parentName=\"p\">{`*`}</inlineCode>{` (`}<inlineCode parentName=\"p\">{`<field name=\"*\"  />`}</inlineCode>{`). You cannot use the `}<inlineCode parentName=\"p\">{`*`}</inlineCode>{` wildcard character to match partial strings.`}</p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Adobe recommends sending a limited number of fields per event. If you send all fields, you increase the risk of including sensitive or PCI compliance data in the event. In addition, specifying only the fields that are applicable to your business case is recommended for optimal performance and cost effectiveness.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"custom-event-fields.md\"\n      }}>{`Add custom fields to an event`}</a>{` describes how to enhance the payload of pre-defined events.`}</p>\n    <p>{`The following example registers multiple events. The `}<inlineCode parentName=\"p\">{`<fields>`}</inlineCode>{` element defines the contents of each transmitted event.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:module-commerce-events-client/etc/io_events.xsd\">\n    <event name=\"observer.catalog_product_save_after\">\n        <fields>\n            <field name=\"entity_id\" />\n            <field name=\"sku\" />\n            <field name=\"is_new\" />\n        </fields>\n    </event>\n    <event name=\"plugin.magento.sales.api.invoice_item_repository.save\">         \n        <fields>\n            <field name=\"entity_id\" />\n            <field name=\"parent_id\" />\n            <field name=\"base_price\" />\n            <field name=\"tax_amount\" />\n            <field name=\"base_row_total\" />\n            <field name=\"discount_amount\" />\n            <field name=\"qty\" />\n        </fields>\n    </event>\n    <event name=\"plugin.magento.catalog.model.resource_model.product.save\">\n        <fields>\n            <field name=\"entity_id\" />\n            <field name=\"sku\" />\n            <field name=\"name\" />\n            <field name=\"price\" />\n            <field name=\"created_at\" />\n        </fields>\n    </event>\n</config>\n`}</code></pre>\n    <p>{`The contents of an `}<inlineCode parentName=\"p\">{`observer.catalog_product_save_after`}</inlineCode>{` event are similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"value\": {\n    \"entity_id\": \"3\",\n    \"sku\": \"test2\",\n    \"is_new\": \"0\"\n  }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"array-of-nested-objects\"\n    }}>{`Array of nested objects`}</h3>\n    <p>{`When the payload contains an array of objects, use the following construction to register specific fields from that array:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`<object_name>[].<field_name>\n`}</code></pre>\n    <p>{`For example, the payload of the `}<inlineCode parentName=\"p\">{`observer.sales_order_invoice_save_after`}</inlineCode>{` event contains a top-level `}<inlineCode parentName=\"p\">{`items[]`}</inlineCode>{` array. In this case, the array contains details about two individual products.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"event\": {\n    \"data\": {\n      \"value\": {\n        \"order_id\": \"8\",\n        \"store_id\": \"1\",\n        \"customer_id\": null,\n        \"billing_address_id\": \"16\",\n        \"shipping_address_id\": \"15\",\n        \"global_currency_code\": \"USD\",\n        \"base_currency_code\": \"USD\",\n        \"store_currency_code\": \"USD\",\n        \"order_currency_code\": \"USD\",\n        \"store_to_base_rate\": \"0.0000\",\n        \"store_to_order_rate\": \"0.0000\",\n        \"base_to_global_rate\": \"1.0000\",\n        \"base_to_order_rate\": \"1.0000\",\n        \"discount_description\": null,\n        \"items\": [\n          {\n            \"order_item_id\": \"8\",\n            \"product_id\": \"22\",\n            \"sku\": \"simple-product-2\",\n            \"name\": \"Simple Product 2\",\n            \"description\": null,\n            \"price\": 200,\n            \"base_price\": \"200.0000\",\n            \"base_cost\": null,\n            \"price_incl_tax\": \"200.0000\",\n            \"base_price_incl_tax\": \"200.0000\",\n            \"extension_attributes\": {},\n            \"weee_tax_applied\": \"[]\",\n            \"weee_tax_applied_amount\": null,\n            \"weee_tax_applied_row_amount\": 0,\n            \"base_weee_tax_applied_amount\": null,\n            \"base_weee_tax_applied_row_amnt\": null,\n            \"weee_tax_disposition\": null,\n            \"base_weee_tax_disposition\": null,\n            \"weee_tax_row_disposition\": 0,\n            \"base_weee_tax_row_disposition\": 0,\n            \"qty\": \"3.000000\",\n            \"invoice\": {},\n            \"parent_id\": null,\n            \"store_id\": \"1\",\n            \"row_total\": 600,\n            \"base_row_total\": 600,\n            \"row_total_incl_tax\": 600,\n            \"base_row_total_incl_tax\": 600,\n            \"tax_amount\": 0,\n            \"base_tax_amount\": 0,\n            \"discount_tax_compensation_amount\": 0,\n            \"base_discount_tax_compensation_amount\": 0,\n            \"base_weee_tax_applied_row_amount\": 0\n          },\n          {\n            \"order_item_id\": \"9\",\n            \"product_id\": \"21\",\n            \"sku\": \"simple-product-1\",\n            \"name\": \"Simple Product 1\",\n            \"description\": null,\n            \"price\": 100,\n            \"base_price\": \"100.0000\",\n            \"base_cost\": null,\n            \"price_incl_tax\": \"100.0000\",\n            \"base_price_incl_tax\": \"100.0000\",\n            \"extension_attributes\": {},\n            \"weee_tax_applied\": \"[]\",\n            \"weee_tax_applied_amount\": null,\n            \"weee_tax_applied_row_amount\": 0,\n            \"base_weee_tax_applied_amount\": null,\n            \"base_weee_tax_applied_row_amnt\": null,\n            \"weee_tax_disposition\": null,\n            \"base_weee_tax_disposition\": null,\n            \"weee_tax_row_disposition\": 0,\n            \"base_weee_tax_row_disposition\": 0,\n            \"qty\": \"5.000000\",\n            \"invoice\": {},\n            \"parent_id\": null,\n            \"store_id\": \"1\",\n            \"row_total\": 500,\n            \"base_row_total\": 500,\n            \"row_total_incl_tax\": 500,\n            \"base_row_total_incl_tax\": 500,\n            \"tax_amount\": 0,\n            \"base_tax_amount\": 0,\n            \"discount_tax_compensation_amount\": 0,\n            \"base_discount_tax_compensation_amount\": 0,\n            \"base_weee_tax_applied_row_amount\": 0\n          }\n        ],\n        \"total_qty\": 8,\n        \"subtotal\": 1100,\n        \"base_subtotal\": 1100,\n        \"subtotal_incl_tax\": 1100,\n        \"base_subtotal_incl_tax\": 1100,\n        \"grand_total\": 1100,\n        \"base_grand_total\": 1100,\n        \"discount_amount\": 0,\n        \"base_discount_amount\": 0,\n        \"tax_amount\": 0,\n        \"base_tax_amount\": 0,\n        \"discount_tax_compensation_amount\": 0,\n        \"base_discount_tax_compensation_amount\": 0,\n        \"base_cost\": 0,\n        \"base_gift_cards_amount\": 0,\n        \"gift_cards_amount\": 0,\n        \"can_void_flag\": false,\n        \"state\": 2,\n        \"increment_id\": \"000000013\",\n        \"entity_id\": \"13\",\n        \"id\": \"13\",\n        \"created_at\": \"2023-04-06 18:36:18\",\n        \"updated_at\": \"2023-04-06 18:36:18\"\n      }\n    }\n  }\n}\n`}</code></pre>\n    <p>{`To register the top-level `}<inlineCode parentName=\"p\">{`order_id`}</inlineCode>{` field and the `}<inlineCode parentName=\"p\">{`sku`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`qty`}</inlineCode>{` of each product, define the subscription as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:module-commerce-events-client/etc/io_events.xsd\">\n   <event name=\"observer.sales_order_invoice_save_after\">\n      <fields>\n         <field name=\"order_id\" />\n         <field name=\"items[].sku\" />\n         <field name=\"items[].qty\" />\n      </fields>\n   </event>\n</config>\n`}</code></pre>\n    <p>{`The contents of the event are similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n   \"order_id\": \"8\",\n   \"items\": [\n      {\n         \"sku\": \"simple-product-2\",\n         \"qty\": \"3.000000\"\n      },\n      {\n         \"sku\": \"simple-product-1\",\n         \"qty\": \"5.000000\"\n      }\n   ]\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"configphp\"\n    }}>{`config.php`}</h3>\n    <p>{`You can also create an `}<inlineCode parentName=\"p\">{`io_events`}</inlineCode>{` section in the Commerce `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/files/deployment-files.html\"\n      }}><inlineCode parentName=\"a\">{`app/etc/config.php file`}</inlineCode></a>{`. Events registered using this mechanism can be disabled from the command line.`}</p>\n    <p>{`For example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-config\"\n      }}>{`'io_events' => [\n    'observer.catalog_product_save_after' => [\n        'fields' => [\n            'entity_id',\n            'sku',\n            'is_new',\n        ],\n        'enabled' => 1\n    ],\n    'plugin.magento.sales.api.invoice_item_repository.save' => [\n        'fields' => [\n            'entity_id',\n            'parent_id',\n            'base_price',\n            'tax_amount',\n            'base_row_total',\n            'discount_amount',\n            'qty',\n        ],\n        'enabled' => 1\n    ],\n    'plugin.magento.catalog.model.resource_model.product.save' => [\n        'fields' => [\n            'sku',\n            'entity_id',\n            'name',\n            'price'\n        ],\n        'enabled' => 1\n    ],\n]\n`}</code></pre>\n    <p>{`The payload for the `}<inlineCode parentName=\"p\">{`observer.catalog_product_save_after`}</inlineCode>{` event is the same as shown in `}<a parentName=\"p\" {...{\n        \"href\": \"#io_eventsxml\"\n      }}><inlineCode parentName=\"a\">{`io_events.xml`}</inlineCode></a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"configuration-merging-from-different-modules\"\n    }}>{`Configuration merging from different modules`}</h2>\n    <p>{`If multiple Commerce modules register the same event, the configuration manager merges the two configurations. The transmitted event includes all the fields defined in the modules.`}</p>\n    <p>{`In the following example, the `}<inlineCode parentName=\"p\">{`MODULE1/etc/io_events.xml`}</inlineCode>{` file registers the `}<inlineCode parentName=\"p\">{`observer.catalog_product_save_after`}</inlineCode>{` event with the `}<inlineCode parentName=\"p\">{`entity_id`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`sku`}</inlineCode>{` fields.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:module-commerce-events-client/etc/io_events.xsd\">\n    <event name=\"observer.catalog_product_save_after\">\n        <fields>\n            <field name=\"entity_id\" />\n            <field name=\"sku\" />\n        </fields>\n    </event>\n</config>\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`MODULE2/etc/io_events.xml`}</inlineCode>{` file registers the same event with the `}<inlineCode parentName=\"p\">{`entity_id`}</inlineCode>{` field and two others.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:module-commerce-events-client/etc/io_events.xsd\">\n    <event name=\"observer.catalog_product_save_after\">\n        <fields>\n            <field name=\"entity_id\" />\n            <field name=\"quantity_and_stock_status.qty\" />\n            <field name=\"stock_data.min_qty\" />\n        </fields>\n    </event>\n</config>\n`}</code></pre>\n    <p>{`The resulting configuration:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:noNamespaceSchemaLocation=\"urn:magento:module-commerce-events-client/etc/io_events.xsd\">\n    <event name=\"observer.catalog_product_save_after\">\n        <fields>             \n            <field name=\"entity_id\" />\n            <field name=\"sku\" />\n            <field name=\"quantity_and_stock_status.qty\" />\n            <field name=\"stock_data.min_qty\" />\n        </fields>\n    </event>\n</config>\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}